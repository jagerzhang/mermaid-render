# Server configuration
PORT=3000
NODE_ENV=production

# COS configuration (optional, for return=url feature)
# Get credentials from: https://console.cloud.tencent.com/cam/capi
COS_SECRET_ID=your_secret_id
COS_SECRET_KEY=your_secret_key

# Bucket name format: <bucket-name>-<appid>
# Example: my-mermaid-bucket-1250000000
COS_BUCKET=your_bucket_name

# Region, e.g., ap-guangzhou, ap-beijing, ap-shanghai
COS_REGION=ap-guangzhou

# (Optional) Use internal network for COS (true/false)
# 内网: <Bucket>.cos-internal.<Region>.tencentcos.cn
# 外网: <Bucket>.cos.<Region>.tencentcos.cn
# ⚠️ 注意：内网域名只能在腾讯云 VPC 内访问！
# 如果你的 K8S 集群不在腾讯云，请设置为 false
# Default: false (外网)
COS_INTERNAL=false

# (Optional) Custom CDN/domain URL prefix
# If not set, will use default COS URL format based on COS_INTERNAL
# Example: https://cdn.example.com
COS_BASE_URL=

# (Optional) Path prefix for uploaded files
# Default: mermaid/
COS_PATH_PREFIX=mermaid/

# (Optional) COS timeout settings (milliseconds)
# HEAD 检查超时：快速失败，不阻塞请求（默认 2 秒）
# 超时后当作"不存在"处理，触发重新上传（有去重机制，不会重复）
COS_HEAD_TIMEOUT_MS=2000
# 上传超时：需要足够时间完成上传（默认 60 秒）
COS_UPLOAD_TIMEOUT_MS=60000

# (Optional) Local cache settings
CACHE_ENABLED=true
CACHE_DIR=/tmp/mermaid-cache
CACHE_MAX_AGE=86400
